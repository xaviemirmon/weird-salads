# Weird Salads

This project is structured to include the following main components:

## Structure

The main app at `/app`:

- app: Contains the main next.js "app" router page templates.
- components: Components used throughout the application. All component in the `ui` directory are automatically generated by `shadcn/ui`.
- lib: Library files for utility functions and fetch requests.
- public: Static assets like images and other media.
- hooks: Custom React hooks used in the application.

`/data`: The seed database

## Getting Started

You must have a .env first

Add the following `.env` file:

```
NEXT_PUBLIC_API_URL=http://localhost:8000/api
DATABASE_URL="postgresql://postgres:password@db:5432/postgres"
LOCATION_ID=2
POSTGRES_PASSWORD=password
```

(Note: Location ID should be changed to any of the locations available)

First, run the production server (takes 1-2 mins to setup):

```bash
docker-compose up -d
```

Or if you want to run in dev mode:
```bash
 docker-compose -f docker-compose-dev.yml up
 ```

Open [http://localhost:8000](http://localhost:8000) with your browser to see the result.

## Interating with the containers

App:
```bash

docker exec -it weird-salads-frontend-1 bash -l

```
DB:
```
docker exec -it weird-salads-db-1 bash -l

```

## Testing

Once running, you should see all the recipes for this location

They will all be out of stock because you have no ingredients.

You can add then at `/stock` or take in a delivery at `/delivery`

You will need to click the "Save" button before going the index page.

For development purposes you can test but running this against the database:

```psql
UPDATE public.ingredients
SET amount = 100;
```